<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul id="menu">
        <li>北京
            <ul>
                <li>昌平
                    <ul>
                        <li>回龙观</li>
                        <li>天通苑</li>
                        <li>沙河</li>
                        <li>霍营</li>
                        <li>老牛湾</li>
                    </ul>
                </li>
                <li>海淀</li>
                <li>朝阳</li>
                <li>东城</li>
            </ul>
        </li>
        <li>山西</li>
        <li>陕西
            <ul>
                <li>西安</li>
                <li>咸阳
                    <ul>
                        <li>三原</li>
                        <li>礼泉</li>
                        <li>乾县</li>
                        <li>淳华</li>
                        <li>旬邑</li>
                    </ul>
                </li>
                <li>宝鸡</li>
                <li>安康</li>
                <li>延安</li>
            </ul>
        </li>
        <li>河北</li>
        <li>河南</li>
    </ul>
    <script>
        /* init();

        function init(){
            liArr = document.querySelectorAll("li")
            liArr.forEach(function(item){
                item.addEventListener("click",clickHandler)
            })
        }

        function clickHandler(e){
            e.stopPropagation()
            this.bool = !this.bool;
            if(this.firstElementChild){
                if(this.bool) this.firstElementChild.style.display = "none"
                else this.firstElementChild.style.display = "block"
            }
        } */


        init();
        function init(){
            var ul = document.querySelector("#menu")
            ul.addEventListener("click",clickHandler)
        }

        function clickHandler(e){
            if(e.target.constructor !== HTMLLIElement) return;
            e.target.bool = !e.target.bool;
            if(!e.target.firstElementChild) return;
            if(e.target.bool) e.target.firstElementChild.style.display = "none";
            else e.target.firstElementChild.style.display = "block"
        }

    </script>
</body>
</html>