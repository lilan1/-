<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            width: 100px;
            height: 100px;
            background: #000;
        }
    </style>
</head>
<body>
    <div></div>
    <script>
        var div = document.querySelector("div")
        div.addEventListener("click",clickHandler,{once:true});
        // {once:true}只能点击一次


        // IE8以下版本,新版本浏览器不支持
        // div.attachEvent("onclick",clickHandler)
        // div.detachEvent("onclick",clickHandler)

        function clickHandler(e){
            console.log(e);
        }




        /* function addEventListen(elem,type,callback){
            try {
                elem.addEventListener(type,callback);
            } catch (error) {
                elem.attachEvent("on" + type,callback)
            }
        }


        function addEventListen(elem,type,callback){
            try {
                elem.removeEventListener(type,callback);
            } catch (error) {
                elem.detachEvent("on" + type,callback)
            }
        } */


        // 1. addEventListener
        // 缺点：不支持IE8以下版本浏览器，方法名太长
        // 优点：支持捕获和冒泡分开侦听；支持事件抛发机制；支持同一个事件做多个事件回调函数；事件使用时可以将函数与内容完全分离
        // 2. attachEventListener
        // 缺点：不能设置一次点击，IE8以上不支持，没有捕获，未来被淘汰
        // 优点：支持IE8以下；并且可以使一个事件支持调用多个回调函数；事件使用时可以将函数与内容完全分离
        // 3.  onclick = fn
        // 优点：全浏览器支持，不考虑兼容问题；代码便捷，速度快；
        // 缺点：不支持事件抛发机制，只能使用系统默认事件；同一个事件不支持多个回调函数；因为代码大量使用匿名函数，容易造成回调地狱，并且在开发中代码实际功能不能分离
        // div.onclick = function(){
        //     div.onclick = null    //删除事件
        // }


    </script>
</body>
</html>