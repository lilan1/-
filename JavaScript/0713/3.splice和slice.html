<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <script>
        // splice(开始删除的起始位,需要删除的位数,需要插入的元素),元素的删除并插入

        // var arr = [1,3,3,6,8,2,3,5,6,3,7,9,8,3,6,7,3,8,9];

        // var arr1=arr.splice(1);//删除到尾部
        // var arr1=arr.splice(-1);//如果第一个参数是负数，从后向前数开始删除
        // var arr1=arr.splice(0);//将一个数组的所有元素转移到另一个数组
        // var arr1=arr.splice();//没有删除返回空数组
        // console.log(arr1);

        // var arr=[1,3,3,6,8,2,3,5,6,3,7,9,8,3,6,7,3,8,9];
        // 删除数组中某个特定的值
        // for(var i=0;i<len;){
        //     if(arr[i]==8) arr.splice(i,1);
        //     else i++;
        // }
        // console.log(arr);

        // 重构的两种方式：拼接和挪位置






        // slice从第几项开始到第几项结束，复制这些元素到新数组中，原数组不改变
        // 复制原数组到新数组中，没有引用关系
        // var arr = [1,2,3,4,5];
        // var arr1 = arr.slice();
        // var arr1 = arr.slice(0)//复制数组
        // var arr1 = arr.slice();//复制数组

        // 将遍历HTML DOM树的结果（一种特殊的列表HTMLCollection），转换为数组
        // var divs = document.getElementsByTagName("div");

        // 将上面的特殊列表转换为数组

        // 第一种方法
        // from,数组的一个方法，通过给定的对象或者字符串创建一个数组
        // var arr = Array.from(divs);//ES6
        // console.log(arr);

        // 第二种方法
        // var arr = Array.prototype.slice.call(divs);
        // 变形的第二种方法
        // var arr = [].slice.call(divs);

        // 第三种方法
        // var arr = Array.prototype.concat.apply([], divs);
        // 变形的第三种
        // var arr = [].apply([], divs);






        // 重构slice()方法
        // 第一版，没有考虑到参数是非数值的情况
        // 第二版，没有处理当参数是非数值的时候，原函数可以“2”这种情况
        function slice(arr, start, end) {
            var arr1 = [];
            var N = arr.length;
            if (start === undefined) start = 0;
            if (end === undefined) end = N -1;

            start = Number(start);
            end = Number(end);

            if(!isNaN(start) && isNaN(end)) start = 0;
            if(isNaN(start)) return [];

            if (start < 0) start = N + start;
            if (end < 0) end = N + end;

            for (let i = 0; i <= end - start; i++) {
                arr1[i] = arr[start + i];
            }
            return arr1;
        }

        // 测试重构的slice方法
        var arr = [1, 2, 3, 4, 5]
        // console.log(arr.slice(2));
        // console.log(slice(arr, 2));
        // console.log(arr.slice());
        // console.log(slice(arr));
        // console.log(arr.slice(-2)); 
        // console.log(slice(arr,-2));
        // console.log(arr.slice("2")); 
        // console.log(slice(arr,"2"));
        console.log(arr.slice(0)); 
        console.log(slice(arr,0));














    </script>
</body>

</html>